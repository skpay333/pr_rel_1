Scope

Update the existing Mini App prototype with three focused changes:

Instruction screen: add a structured, friendly Russian guide describing what payments are supported/not supported, including examples (restaurants with QR/links like Tapper/Tappr, –Ø–Ω–¥–µ–∫—Å.–ï–¥–∞, utilities, invoices to legal entities), timing constraints (‚â•5 minutes), market-rate conversion with 2% service fee baseline, and that ‚Äú–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (10‚Äì30 –º–∏–Ω—É—Ç)‚Äù gives a 0.5% better rate. Include simple infographic-style blocks (visual cards/icons) without external assets.

Free tab navigation during the payment wizard: bottom tabs remain tappable at all times; wizard state is preserved when switching away and back.

Urgency copy + math: update labels and actual calculations so that:

–°—Ä–æ—á–Ω–æ (5‚Äì10 –º–∏–Ω—É—Ç) uses standard commission (2% baseline).

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (10‚Äì30 –º–∏–Ω—É—Ç) uses a 0.5% better rate for the user vs the urgent baseline (i.e., user spends ~0.5% less USDT).
Keep the step-1 locked base rate logic. Use ceil to 2 decimals for USDT freezing.

Do not change other flows or break current design; only extend/adjust as below.

1) Instruction Screen ‚Äî Replace content (Russian copy)

Title: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

Section card 1 ‚Äî ¬´–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç¬ª
Text (body):

1) –ü–æ–ø–æ–ª–Ω—è–µ—Ç–µ –±–∞–ª–∞–Ω—Å –≤ USDT (TRC20).
2) –°–æ–∑–¥–∞—ë—Ç–µ –∑–∞—è–≤–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É –≤ —Ä—É–±–ª—è—Ö.
3) –ú—ã –æ–ø–ª–∞—á–∏–≤–∞–µ–º —Å—á—ë—Ç –∑–∞ –≤–∞—Å.
–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —á–µ–∫: 3 000 ‚ÇΩ. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —á–µ–∫: 100 000 ‚ÇΩ.


Section card 2 ‚Äî ¬´–ì–¥–µ —É–¥–æ–±–Ω–æ –ø–ª–∞—Ç–∏—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ¬ª
Bulleted list:

‚Ä¢ –†–µ—Å—Ç–æ—Ä–∞–Ω—ã –ø–æ QR-–∫–æ–¥—É –∏–ª–∏ —Å—Å—ã–ª–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Tapper/Tappr, –Ø–Ω–¥–µ–∫—Å.–ï–¥–∞).
‚Ä¢ –ú–∞–≥–∞–∑–∏–Ω—ã –∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∑–∞–∫–∞–∑—ã, –≥–¥–µ –µ—Å—Ç—å QR-–∫–æ–¥ –∏–ª–∏ —Å—á—ë—Ç.
‚Ä¢ –ö–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ –∏ –ø—Ä–æ—á–∏–µ —É—Å–ª—É–≥–∏ –ø–æ —Å—á—ë—Ç—É.
‚Ä¢ –õ—é–±—ã–µ —Å—á–µ—Ç–∞ –æ—Ç –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π (—é—Ä–ª–∏—Ü–∞), –≥–¥–µ –æ–ø–ª–∞—Ç–∞ –∏–¥—ë—Ç –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º.


Small hint (gray):
–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ–ø–ª–∞—Ç, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –Ω–∞ –∫–∞—Å—Å–µ.

Section card 3 ‚Äî ¬´–ö–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç¬ª
Text:

–ï—Å–ª–∏ –≤—ã —Å—Ç–æ–∏—Ç–µ –Ω–∞ –∫–∞—Å—Å–µ –∏ –Ω—É–∂–Ω–æ –æ–ø–ª–∞—Ç–∏—Ç—å –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å (—Å–∫–∞–Ω–∏—Ä–æ–≤–∞—Ç—å QR-–∫–æ–¥ –Ω–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ), —ç—Ç–æ—Ç —Å–ø–æ—Å–æ–± –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç.
–û–ø–ª–∞—Ç–∞ —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Ç 5 –º–∏–Ω—É—Ç –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.


Section card 4 ‚Äî ¬´–ü—Ä–æ –∫—É—Ä—Å –∏ –∫–æ–º–∏—Å—Å–∏—é¬ª
Text:

–ü–µ—Ä–µ—Ä–∞—Å—á—ë—Ç –≤ —Ä—É–±–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–º—É –∫—É—Ä—Å—É —Å —É—á—ë—Ç–æ–º –Ω–∞—à–µ–π –∫–æ–º–∏—Å—Å–∏–∏ 2%.
–î–ª—è ¬´–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (10‚Äì30 –º–∏–Ω—É—Ç)¬ª –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫—É—Ä—Å –Ω–∞ 0,5% –≤—ã–≥–æ–¥–Ω–µ–µ –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å ¬´–°—Ä–æ—á–Ω–æ¬ª.
–ö—É—Ä—Å –¥–ª—è –≤–∞—à–µ–π –∑–∞—è–≤–∫–∏ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –∏ –¥–∞–ª—å—à–µ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è.


CTA (bottom):
Button: –ù–∞–ø–∏—Å–∞—Ç—å –≤ Telegram

Infographic styling guidance (no external images):

Render these sections as separate rounded cards with simple inline icons:
‚Äì ¬´–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç¬ª ‚Üí ‚úÖ
‚Äì ¬´–ì–¥–µ —É–¥–æ–±–Ω–æ –ø–ª–∞—Ç–∏—Ç—å‚Ä¶¬ª ‚Üí üßæ / üçΩÔ∏è
‚Äì ¬´–ö–æ–≥–¥–∞ –Ω–µ –ø–æ–¥–æ–π–¥—ë—Ç¬ª ‚Üí ‚õî / ‚è≥
‚Äì ¬´–ü—Ä–æ –∫—É—Ä—Å –∏ –∫–æ–º–∏—Å—Å–∏—é¬ª ‚Üí üí±

Use larger headings, short bullets, and soft accent separators. No external assets required.

2) Free Tab Navigation During Wizard

Requirement: The bottom tab bar (üè† –ì–ª–∞–≤–Ω–∞—è, üßæ –ò—Å—Ç–æ—Ä–∏—è –∑–∞—è–≤–æ–∫, üìò –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏) must remain always tappable, even while the user is in the ‚Äú–û–ø–ª–∞—Ç–∏—Ç—å‚Äù wizard (any step).

Behavior:

Navigating away from the wizard must preserve all current wizard state (entered amount, chosen urgency, attachments, comment, locked rate).

When the user returns to ‚Äú–û–ø–ª–∞—Ç–∏—Ç—å‚Äù, restore the exact step and data.

Disallow only submit if required fields are missing; never block tab navigation.

Implementation guidance:

Lift wizard state to a top-level store (e.g., React context or global store) or persist to local storage/session storage keyed by user/session.

On mount of the ‚Äú–û–ø–ª–∞—Ç–∏—Ç—å‚Äù screen, rehydrate from the store; on unmount, persist.

Ensure no double-locking of the rate: lock once at Step 1 and keep it in the draft until submission or explicit cancel.

3) Urgency Copy + Math Update
3.1 Russian copy (replace the urgency step hints)

Step 2 title: –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ä–æ—á–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏

Options with sublabels:

‚ö° –°—Ä–æ—á–Ω–æ (5‚Äì10 –º–∏–Ω—É—Ç)
small note under option: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è.

‚è±Ô∏è –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (10‚Äì30 –º–∏–Ω—É—Ç)
small note under option: –ö—É—Ä—Å –Ω–∞ 0,5% –≤—ã–≥–æ–¥–Ω–µ–µ.

Also show the same note in Step-4 summary if ‚Äú–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ‚Äù is selected:
–ö—É—Ä—Å –Ω–∞ 0,5% –≤—ã–≥–æ–¥–Ω–µ–µ.

3.2 Math ‚Äî precise rules

Continue to lock the base market rate at Step 1:

// At Step 1:
const rate_locked_rub_per_usdt = currentMarketRateRubPerUsdt; // e.g., 90.00
const BASE_FEE = 0.02;   // 2% baseline service fee (always applied)
const STD_BONUS = 0.005; // 0.5% better than urgent baseline for "–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ"


Compute raw USDT before fees:

const usdt_raw = amount_rub / rate_locked_rub_per_usdt;


For –°—Ä–æ—á–Ω–æ (5‚Äì10 –º–∏–Ω—É—Ç) ‚Äî ‚Äú–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∫–æ–º–∏—Å—Å–∏—è‚Äù (2% total):

const usdt_needed_urgent = usdt_raw * (1 + BASE_FEE); // 1.02x


For –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ (10‚Äì30 –º–∏–Ω—É—Ç) ‚Äî 0.5% better vs urgent baseline:

const usdt_needed_standard = usdt_raw * (1 + BASE_FEE - STD_BONUS); // 1.02 - 0.005 = 1.015x


Rounding & freezing (same for both):

const usdt_to_freeze = Math.ceil(usdt_needed_*100) / 100; // ceil to 2 decimals


Persist to the request record:

{
  amount_rub,                      // ‚ÇΩ requested
  rate_locked_rub_per_usdt,        // locked on Step 1
  urgency: 'urgent' | 'standard',
  base_fee: 0.02,                  // stored for audit
  standard_bonus: 0.005,           // stored for audit
  usdt_frozen: usdt_to_freeze,     // after ceil
  status: 'created' | 'processing' | 'paid' | 'cancelled',
  attachments, comment, created_at
}


Balances:

On submit:
availableUSDT -= usdt_to_freeze;
frozenUSDT += usdt_to_freeze;

On cancel:
availableUSDT += usdt_to_freeze;
frozenUSDT -= usdt_to_freeze;

On paid:
totalUSDT -= usdt_to_freeze;
frozenUSDT -= usdt_to_freeze;

Home equivalents:

Home –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ ‚ÇΩ continues to show availableUSDT * currentDisplayedRate, while each request keeps its own locked rate.

Validation remains:

Min 3 000 ‚ÇΩ, Max 100 000 ‚ÇΩ.

Amount must be ‚â§ current available RUB equivalent at Step 1.

4) Minor UI/UX Finishes (keep it minimal)

In Step 2, when toggling urgency, live-update the USDT estimate preview (below the options) using the new math, e.g.:
–û—Ü–µ–Ω–∫–∞ –∫ –∑–∞–º–æ—Ä–æ–∑–∫–µ: {ZZ.ZZ USDT}

In Step 4 summary, show:

–°—É–º–º–∞: {XXX ‚ÇΩ}

–≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç –≤ USDT: {ZZ.ZZ USDT}

–°—Ä–æ—á–Ω–æ—Å—Ç—å: –°—Ä–æ—á–Ω–æ / –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ

If –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ ‚Üí small note: –ö—É—Ä—Å –Ω–∞ 0,5% –≤—ã–≥–æ–¥–Ω–µ–µ.

5) Deliverables

Replace the Instruction screen content with the exact Russian copy above and infographic-style layout.

Implement free tab navigation with full wizard state preservation.

Update urgency labels and implement the 2% baseline / ‚àí0.5% standard bonus math with ceil(‚Ä¶ , 2) for USDT freezing.

Ensure History/Details reflect urgency and the stored usdt_frozen, with the locked rate.