You are updating the existing Mini App project (Telegram-style crypto wallet interface).
Do not change the layout or styling â€” just improve the balance logic and UI wording.
All user-facing text must be in Russian.
Keep it interactive inside Replitâ€™s test mode (no external API needed).

ğŸ§­ Goal

When a user creates a payment request, a part of their USDT balance should be frozen (reserved) until the request is completed or cancelled.
The UI must now show two balance lines:

â€œĞ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ² USDTâ€ â€” available funds that can still be used for new payments.

â€œĞ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾â€ â€” total amount of USDT currently frozen in pending or processing requests.

These two values must always add up to the userâ€™s total balance.

The same principle applies to the RUB equivalent below:
show the available balance in â‚½ (based on the same USDTâ†’â‚½ rate).

âš™ï¸ Logic and behavior
1ï¸âƒ£ When the app starts:

The total balance (for example 270.50 USDT) is stored internally as two values:

totalBalanceUSDT = 270.50
availableUSDT = 270.50
frozenUSDT = 0.00


RUB equivalent is calculated using the current exchange rate:

rate = 89.36
availableRUB = availableUSDT * rate


Displayed values on the Home screen:

Title: Â«Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ² USDTÂ»
Value: 270.50 USDT

Below that, gray small line:
Â«Ğ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾: 0.00 USDTÂ»

Card below:
Â«Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ² â‚½Â» â†’ 24 172 â‚½

2ï¸âƒ£ When a new payment request is created:

After Step 4 of the â€œĞĞ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒâ€ wizard, when the user presses â€œĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ·Ğ°ÑĞ²ĞºÑƒâ€:

The required amount in USDT (based on the request) is moved from available â†’ frozen.

Example:

amountUSDT = 269.83
availableUSDT = availableUSDT - amountUSDT
frozenUSDT = frozenUSDT + amountUSDT


On the Home screen:

â€œĞ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ² USDTâ€ = 0.67 USDT

â€œĞ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾â€ = 269.83 USDT

RUB equivalent (Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ² â‚½) recalculates automatically using the same current rate (not frozen one â€” just display).

availableRUB = availableUSDT * rate


The â€œfrozenâ€ line stays visible in small gray text with a lock icon: ğŸ”’

3ï¸âƒ£ If the request is later paid / completed:

Frozen amount is considered spent, so:

frozenUSDT -= amountUSDT
totalBalanceUSDT -= amountUSDT
// available remains the same


The History card updates status â†’ â€œĞĞŸĞ›ĞĞ§Ğ•ĞĞâ€.

4ï¸âƒ£ If the request is cancelled / rejected:

The frozen funds return to available balance:

availableUSDT += amountUSDT
frozenUSDT -= amountUSDT


The History status â†’ â€œĞĞ¢ĞœĞ•ĞĞ•ĞĞâ€ or â€œĞĞ¢ĞšĞ›ĞĞĞ•ĞĞâ€.

Show a small toast message (in Russian):
Â«Ğ—Ğ°ÑĞ²ĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°. Ğ¡Ñ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ñ‹ Ğ½Ğ° Ğ±Ğ°Ğ»Ğ°Ğ½Ñ.Â»

5ï¸âƒ£ Display rules

Home screen must always show:

Top large card:

Title: Â«Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ² USDTÂ»

Main value (large font, e.g. 270.50)

Subtext: USDT

Below it (smaller, gray text with lock icon):
Â«Ğ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾: {frozenUSDT} USDTÂ»

Divider line.

Card below:

Â«ĞšÑƒÑ€Ñ USDT â†’ â‚½Â»

Example: 1 USDT â‰ˆ 89.36 â‚½

Next card:

Â«Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ² â‚½Â»

Example: 24 172 â‚½

Buttons remain the same:

â• ĞŸĞ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ÑŒ (secondary style)

ğŸ’³ ĞĞ¿Ğ»Ğ°Ñ‚Ğ¸Ñ‚ÑŒ (primary blue gradient)

ğŸ§© Technical notes

Use a single local state object to store:

{
  totalUSDT,
  availableUSDT,
  frozenUSDT,
  rate,
  availableRUB
}


Update availableRUB every time availableUSDT changes.

Keep frozenUSDT formatted to 2 decimal places.

If both values are zero, still display both lines to preserve UI consistency.

For test simulation:

When user presses â€œĞ¯ Ğ¿Ğ¾Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ğ»â€ â†’ availableUSDT += 150.

When submitting payment â†’ freeze.

When cancelling â†’ unfreeze.

Keep transitions smooth (fade or number counter animation on change).

ğŸ’¡ Optional UX polish

When balance updates (either available or frozen):

Animate the number change with a short ease-out (like â€œcount upâ€ effect).

For the frozen line, briefly flash a soft amber highlight before fading to gray.

Use icons:

ğŸ”’ for frozen

ğŸ’° for available

ğŸ“˜ Russian text for UI elements
English meaning	Russian text
Available balance	Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğ¹ Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ² USDT
Frozen	Ğ—Ğ°Ğ¼Ğ¾Ñ€Ğ¾Ğ¶ĞµĞ½Ğ¾:
Exchange rate	1 USDT â‰ˆ {rate} â‚½
Equivalent in RUB	Ğ­ĞºĞ²Ğ¸Ğ²Ğ°Ğ»ĞµĞ½Ñ‚ Ğ² â‚½
Toast (refund)	Ğ—Ğ°ÑĞ²ĞºĞ° Ğ¾Ñ‚Ğ¼ĞµĞ½ĞµĞ½Ğ°. Ğ¡Ñ€ĞµĞ´ÑÑ‚Ğ²Ğ° Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰ĞµĞ½Ñ‹ Ğ½Ğ° Ğ±Ğ°Ğ»Ğ°Ğ½Ñ.
âœ… Deliverable

Replit should:

Implement the available/frozen balance logic exactly as above.

Update the display text on the Home screen accordingly.

Keep all other pages and features (history, payment flow, etc.) unchanged.

Ensure RUB equivalent updates automatically when balances change.

Preserve the Revolut-style design and font sizes.

End of prompt.
After applying, test by:

Checking Home â†’ values before payment.

Create a payment â†’ check frozen & available change.

Cancel the request â†’ ensure refund works.

All amounts and ruble equivalents must visually match this logic.