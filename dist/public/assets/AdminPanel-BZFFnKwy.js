import{r as a,j as e}from"./react-vendor-DXh2JWUH.js";import{C as z,a as E,b as H,c as L,B as i}from"./card-l8B5EJfV.js";import{I as v}from"./input-BK4KRhIb.js";import{c as k,u as Ye,a as xt,f as j,b as mt,d as y,e as Is,g as ut,h as Ps,i as ht,j as jt,k as pt,l as ft,m as gt,n as vt,o as Nt,p as bt,q as yt,r as wt,s as Dt,t as Ct,v as St,w as Tt,x as At}from"./index-XvOZlhht.js";import{T as Je,a as Ke,b as R,c as O}from"./tabs-T0-tMZ9B.js";import{D as S,a as T,b as A,c as U,A as Os,d as zs,e as Es,f as M,g as q}from"./avatar-nL0TpwiJ.js";import{A as Ut,a as kt,b as Ft,c as It,d as Pt,e as Rt,f as Ot,g as zt}from"./alert-dialog-B07NitoX.js";import{L as h}from"./label-CgwsQBad.js";import{S as Ue,a as ke,b as Fe,c as Ie,d as g,P as Et}from"./PaymentDetailsDialog-B7E2mNGi.js";import{B as Re}from"./badge-Dedo9uIt.js";import{R as Hs}from"./ui-extended-CLSNRB24.js";import{a as Ls,U as Bs,D as Ht,C as Qe,E as $s,b as Lt,W as Bt,T as $t,c as Rs,G as Gt,P as Vt,d as Mt,e as Pe}from"./icons-vendor-BKMeapAd.js";import{S as qt}from"./scroll-area-Ccv5Za3h.js";import"./utils-vendor-B2rm_Apj.js";import"./react-query-DV86JtqI.js";import"./ui-core-DuOrk3UI.js";const X=a.forwardRef(({className:x,...m},u)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:u,className:k("w-full caption-bottom text-sm",x),...m})}));X.displayName="Table";const W=a.forwardRef(({className:x,...m},u)=>e.jsx("thead",{ref:u,className:k("[&_tr]:border-b",x),...m}));W.displayName="TableHeader";const _=a.forwardRef(({className:x,...m},u)=>e.jsx("tbody",{ref:u,className:k("[&_tr:last-child]:border-0",x),...m}));_.displayName="TableBody";const Xt=a.forwardRef(({className:x,...m},u)=>e.jsx("tfoot",{ref:u,className:k("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",x),...m}));Xt.displayName="TableFooter";const p=a.forwardRef(({className:x,...m},u)=>e.jsx("tr",{ref:u,className:k("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",x),...m}));p.displayName="TableRow";const l=a.forwardRef(({className:x,...m},u)=>e.jsx("th",{ref:u,className:k("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",x),...m}));l.displayName="TableHead";const r=a.forwardRef(({className:x,...m},u)=>e.jsx("td",{ref:u,className:k("p-4 align-middle [&:has([role=checkbox])]:pr-0",x),...m}));r.displayName="TableCell";const Wt=a.forwardRef(({className:x,...m},u)=>e.jsx("caption",{ref:u,className:k("mt-4 text-sm text-muted-foreground",x),...m}));Wt.displayName="TableCaption";const N=a.forwardRef(({className:x,orientation:m="horizontal",decorative:u=!0,...B},t)=>e.jsx(Hs,{ref:t,decorative:u,orientation:m,className:k("shrink-0 bg-border",m==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",x),...B}));N.displayName=Hs.displayName;const _t={pending:"bg-yellow-500 text-black",confirmed:"bg-green-500 text-white",rejected:"bg-red-500 text-white",cancelled:"bg-gray-400 text-white",expired:"bg-gray-400 text-white"},Jt={pending:"ОЖИДАЕТ",confirmed:"ПОДТВЕРЖДЁН",rejected:"ОТКЛОНЁН",cancelled:"ОТМЕНЁН",expired:"ИСТЁК"};function Kt({open:x,onOpenChange:m,depositId:u,adminPassword:B}){const[t,se]=a.useState(null),[w,F]=a.useState(!1),[$,G]=a.useState(null),{toast:C}=Ye();a.useEffect(()=>{x&&u&&te()},[x,u]);const te=async()=>{F(!0),G(null);try{const c=await xt(B,u);se(c)}catch(c){const V=c instanceof Error?c.message:"Не удалось загрузить детали депозита";G(V),C({title:"Ошибка",description:V,variant:"destructive"})}finally{F(!1)}};return e.jsx(S,{open:x,onOpenChange:m,children:e.jsxs(T,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(A,{children:e.jsx(U,{children:"Детали депозита"})}),w&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),$&&!w&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 text-destructive rounded",children:[e.jsx(Ls,{className:"w-5 h-5"}),e.jsx("p",{children:$})]}),t&&!w&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),"Информация о клиенте"]})}),e.jsx(L,{className:"space-y-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Os,{children:[e.jsx(zs,{src:t.avatarUrl||void 0}),e.jsx(Es,{children:t.username.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.fullName||t.username}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",t.username]})]})]})})]}),e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Ht,{className:"w-5 h-5"}),"Информация о депозите"]})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ID депозита"}),e.jsx("p",{className:"font-mono text-sm",children:t.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Статус"}),e.jsx(Re,{className:`${_t[t.status]||"bg-muted"} font-semibold`,children:Jt[t.status]||t.status.toUpperCase()})]})]}),e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Сеть"}),e.jsx("p",{className:"font-semibold",children:"USDT TRC20"})]}),e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Время создания заявки"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:j(t.createdAt)})]})]}),t.status==="confirmed"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{}),t.txHash&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Хеш транзакции"}),e.jsxs("a",{href:`https://tronscan.org/#/transaction/${t.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-primary hover:underline font-mono text-sm break-all",children:[t.txHash,e.jsx($s,{className:"w-4 h-4 flex-shrink-0"})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Время открытия заявки"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:j(t.createdAt)})]})]}),t.confirmedAt&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Время фактического получения"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-[hsl(var(--success))]"}),e.jsx("p",{className:"font-medium",children:j(t.confirmedAt)})]})]})]}),e.jsx(N,{}),e.jsx("div",{className:"space-y-2",children:t.requestedAmount!==null&&t.payableAmount!==null&&t.requestedAmount!==t.actualAmount?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Сумма по заявке"}),e.jsxs("p",{className:"font-semibold text-lg",children:[(t.payableAmount||t.requestedAmount).toFixed(2)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Фактическая сумма"}),e.jsxs("p",{className:"font-semibold text-lg text-[hsl(var(--success))]",children:[t.actualAmount.toFixed(2)," USDT"]})]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Сумма депозита"}),e.jsxs("p",{className:"font-semibold text-lg",children:[t.actualAmount.toFixed(2)," USDT"]})]})})]}),t.status!=="confirmed"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Сумма"}),e.jsxs("p",{className:"font-semibold text-lg",children:[(t.payableAmount||t.requestedAmount||t.actualAmount).toFixed(2)," USDT"]})]})]}),t.walletAddress&&e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Адрес кошелька"}),e.jsx("p",{className:"font-mono text-sm break-all",children:t.walletAddress})]})]}),t.expiresAt&&t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Истекает"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("p",{className:"font-medium",children:j(t.expiresAt)})]})]})]})]})]})]})]})})}const Qt={pending:"bg-secondary text-foreground",confirmed:"bg-[hsl(var(--success))] text-white",rejected:"bg-destructive text-white",cancelled:"bg-muted text-foreground",expired:"bg-muted text-foreground"},Yt={pending:"ОЖИДАЕТ",confirmed:"ПОДТВЕРЖДЁН",rejected:"ОТКЛОНЁН",cancelled:"ОТМЕНЁН",expired:"ИСТЁК"},Zt={submitted:"bg-secondary text-foreground",assigned:"bg-blue-500 text-white",processing:"bg-yellow-500 text-white",paid:"bg-[hsl(var(--success))] text-white",rejected:"bg-destructive text-white",cancelled:"bg-muted text-foreground"},ea={submitted:"ПОДАНО",assigned:"НАЗНАЧЕНО",processing:"ОБРАБОТКА",paid:"ОПЛАЧЕНО",rejected:"ОТКЛОНЕНО",cancelled:"ОТМЕНЕНО"};function sa({userId:x,open:m,onOpenChange:u,adminPassword:B}){const[t,se]=a.useState(null),[w,F]=a.useState(!1),[$,G]=a.useState(null),{toast:C}=Ye();a.useEffect(()=>{m&&x&&te()},[m,x]);const te=async()=>{F(!0),G(null);try{const c=await mt(B,x);se(c)}catch(c){const V=c instanceof Error?c.message:"Не удалось загрузить статистику";G(V),C({title:"Ошибка",description:V,variant:"destructive"})}finally{F(!1)}};return e.jsx(S,{open:m,onOpenChange:u,children:e.jsxs(T,{className:"max-w-4xl max-h-[90vh]",children:[e.jsx(A,{children:e.jsx(U,{children:"Детальная статистика пользователя"})}),w&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}),$&&!w&&e.jsxs("div",{className:"flex items-center gap-2 p-4 bg-destructive/10 text-destructive rounded",children:[e.jsx(Ls,{className:"w-5 h-5"}),e.jsx("p",{children:$})]}),t&&!w&&e.jsx(qt,{className:"max-h-[70vh] pr-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-5 h-5"}),"Основная информация"]})}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Os,{className:"h-12 w-12",children:[e.jsx(zs,{src:t.avatarUrl||void 0}),e.jsx(Es,{children:t.username.charAt(0).toUpperCase()})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.fullName||t.username}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",t.username]})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Telegram ID"}),e.jsx("p",{className:"font-mono text-sm",children:t.telegramId})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Дата регистрации"}),e.jsx("p",{className:"font-medium text-sm",children:j(t.registeredAt)})]})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Bt,{className:"w-5 h-5"}),"Балансы"]})}),e.jsx(L,{className:"space-y-3",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Доступно"}),e.jsxs("p",{className:"text-lg font-semibold",children:[y(t.availableBalance)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Заморожено"}),e.jsxs("p",{className:"text-lg font-semibold",children:[y(t.frozenBalance)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Итого"}),e.jsxs("p",{className:"text-lg font-semibold text-primary",children:[y(t.totalBalance)," USDT"]})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-5 h-5"}),"Статистика депозитов"]})}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего депозитов"}),e.jsx("p",{className:"text-2xl font-bold",children:t.totalDeposits})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма"}),e.jsxs("p",{className:"text-lg font-semibold",children:[y(t.totalDepositedAmount)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Последний депозит"}),e.jsx("p",{className:"font-medium text-sm",children:j(t.lastDepositDate)})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-5 h-5"}),"Статистика платежей"]})}),e.jsxs(L,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего платежей"}),e.jsx("p",{className:"text-2xl font-bold",children:t.totalPayments})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Общая сумма выплат"}),e.jsxs("p",{className:"text-lg font-semibold",children:[Is(t.totalPaidAmountRub)," ₽"]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[y(t.totalPaidAmountUsdt)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Последний платёж"}),e.jsx("p",{className:"font-medium text-sm",children:j(t.lastPaymentDate)})]})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"w-5 h-5"}),"Реферальная программа"]})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Промокод"}),e.jsx("p",{className:"text-lg font-mono font-semibold",children:t.promoCode})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"ID рефера"}),e.jsx("p",{className:"text-sm font-medium",children:t.referrerId||"Нет"})]})]}),e.jsx(N,{}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Рефералов"}),e.jsx("p",{className:"text-2xl font-bold",children:t.referralsCount})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Реферальный баланс"}),e.jsxs("p",{className:"text-lg font-semibold text-primary",children:[y(t.referralBalance)," USDT"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего заработано"}),e.jsxs("p",{className:"text-lg font-semibold",children:[y(t.referralTotalEarned)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Всего выведено"}),e.jsxs("p",{className:"text-lg font-semibold",children:[y(t.referralTotalWithdrawn)," USDT"]})]})]}),e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold mb-2",children:"Приветственный бонус"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Статус"}),e.jsx(Re,{className:t.signupBonusActive===1?"bg-green-500 text-white":"bg-muted text-foreground",children:t.signupBonusActive===1?"Активен":"Неактивен"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Сумма"}),e.jsxs("p",{className:"text-sm font-semibold",children:[y(t.signupBonusAmount)," USDT"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Истекает"}),e.jsx("p",{className:"text-xs font-medium",children:t.signupBonusExpiresAt?j(t.signupBonusExpiresAt):"N/A"})]})]})]})]})]}),e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(H,{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-5 h-5"}),"Последние транзакции"]})}),e.jsxs(L,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Депозиты (последние 5)"}),t.recentDeposits.length>0?e.jsx("div",{className:"space-y-2",children:t.recentDeposits.map(c=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold",children:[y(c.amount)," USDT"]}),e.jsx(Re,{className:`${Qt[c.status]||"bg-muted"} font-semibold text-xs`,children:Yt[c.status]||c.status.toUpperCase()})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j(c.status==="confirmed"?c.confirmedAt:c.createdAt)}),c.txHash&&e.jsxs("a",{href:`https://tronscan.org/#/transaction/${c.txHash}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs text-primary hover:underline mt-1",children:["TX Hash",e.jsx($s,{className:"w-3 h-3"})]})]})},c.id))}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Нет депозитов"})]}),e.jsx(N,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Платежи (последние 5)"}),t.recentPayments.length>0?e.jsx("div",{className:"space-y-2",children:t.recentPayments.map(c=>e.jsx("div",{className:"flex items-center justify-between p-3 bg-muted/30 rounded-lg",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-semibold",children:[Is(c.amountRub)," ₽"]}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",y(c.amountUsdt)," USDT)"]}),e.jsx(Re,{className:`${Zt[c.status]||"bg-muted"} font-semibold text-xs`,children:ea[c.status]||c.status.toUpperCase()})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:j(c.status==="paid"?c.completedAt:c.createdAt)})]})},c.id))}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"Нет платежей"})]})]})]})]})})]})})}function va(){var ps,fs,gs,vs,Ns,bs,ys,ws,Ds,Cs,Ss,Ts,As,Us,ks,Fs;const[x,m]=a.useState(!1),[u,B]=a.useState(""),[t,se]=a.useState(""),[w,F]=a.useState(!1),[$,G]=a.useState([]),[C,te]=a.useState([]),[c,V]=a.useState([]),[Ze,Gs]=a.useState([]),[es,ss]=a.useState(!1),[ts,as]=a.useState(!1),[rs,ls]=a.useState(!1),[ns,is]=a.useState(!1),[Oe,Vs]=a.useState("pending"),[xe,Ms]=a.useState("active"),[me,qs]=a.useState("all"),[ue,Xs]=a.useState("all"),[ze,Ws]=a.useState("all"),[ae,he]=a.useState({open:!1,user:null}),[re,je]=a.useState({open:!1,user:null}),[n,Ee]=a.useState({open:!1,payment:null,details:null}),[He,ds]=a.useState({open:!1,paymentId:null}),[Le,pe]=a.useState({open:!1,depositId:null}),[le,fe]=a.useState({open:!1,deposit:null}),[_s,ge]=a.useState(!1),[ve,Be]=a.useState(""),[Ne,$e]=a.useState(""),[J,be]=a.useState({open:!1,operator:null}),[ne,ie]=a.useState({login:"",password:""}),[b,Ge]=a.useState({open:!1,operatorId:null,stats:null}),[ye,we]=a.useState({open:!1,operatorId:null}),[Ve,cs]=a.useState({open:!1,userId:null}),[K,Me]=a.useState({available:0,frozen:0}),[qe,Xe]=a.useState(0),[Q,De]=a.useState(0),[de,We]=a.useState(""),[_e,Js]=a.useState("paid"),[I,os]=a.useState(null),[xs,ms]=a.useState(""),[us,hs]=a.useState(null),[Ce,Se]=a.useState(!1),{toast:o}=Ye(),Ks=async s=>{s.preventDefault(),F(!0);try{await ht(u),se(u),m(!0),o({title:"Успешный вход",description:"Добро пожаловать в админ-панель"})}catch(d){o({title:"Ошибка входа",description:d instanceof Error?d.message:"Неверный пароль",variant:"destructive"})}finally{F(!1)}},P=async()=>{if(t){ss(!0);try{const s=await jt(t);G(s)}catch{o({title:"Ошибка",description:"Не удалось загрузить пользователей",variant:"destructive"})}finally{ss(!1)}}},ce=async()=>{if(t){as(!0);try{let s;xe==="active"?s={status:"active",...me!=="all"&&{urgency:me}}:s={status:ue==="all"?"completed":ue};const d=await pt(t,s);te(d)}catch{o({title:"Ошибка",description:"Не удалось загрузить заявки",variant:"destructive"})}finally{as(!1)}}},Y=async()=>{if(t){ls(!0);try{const s=Oe==="pending"?await ft(t):await gt(t,ze);V(s)}catch{o({title:"Ошибка",description:"Не удалось загрузить депозиты",variant:"destructive"})}finally{ls(!1)}}};a.useEffect(()=>{x&&(P(),ce(),Y(),Z())},[x]),a.useEffect(()=>{x&&ce()},[xe,me,ue]),a.useEffect(()=>{x&&Y()},[Oe,ze]);const Qs=async()=>{if(!(!ae.user||!t))try{await vt(t,ae.user.id,K.available,K.frozen),o({title:"Успешно",description:"Баланс пользователя обновлен"}),he({open:!1,user:null}),P()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось обновить баланс",variant:"destructive"})}},Ys=async()=>{if(!(!re.user||!t))try{await Nt(t,re.user.id,qe),o({title:"Успешно",description:`Добавлено ${qe} USDT`}),je({open:!1,user:null}),Xe(0),P()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось добавить депозит",variant:"destructive"})}},Zs=async s=>{if(t)try{await bt(t,s),o({title:"Успешно",description:"Заявка отменена"}),ce(),P()}catch(d){o({title:"Ошибка",description:d instanceof Error?d.message:"Не удалось отменить заявку",variant:"destructive"})}},et=async s=>{if(t)try{await yt(t,s),o({title:"Успешно",description:"Депозит подтверждён"}),Y(),P()}catch(d){o({title:"Ошибка",description:d instanceof Error?d.message:"Не удалось подтвердить депозит",variant:"destructive"})}},st=async s=>{if(t)try{await wt(t,s),o({title:"Успешно",description:"Депозит отклонён"}),Y()}catch(d){o({title:"Ошибка",description:d instanceof Error?d.message:"Не удалось отклонить депозит",variant:"destructive"})}},tt=async()=>{if(!(!t||!le.deposit)){if(!Q||Q<=0){o({title:"Ошибка",description:"Введите корректную сумму",variant:"destructive"});return}if(!de||de.trim()===""){o({title:"Ошибка",description:"Введите TX Hash транзакции",variant:"destructive"});return}Se(!0);try{await Dt(t,le.deposit.id,Q,de),o({title:"Успешно",description:`Депозит подтверждён на сумму ${Q.toFixed(2)} USDT`}),fe({open:!1,deposit:null}),De(0),We(""),Y(),P()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось подтвердить депозит",variant:"destructive"})}finally{Se(!1)}}},Z=async()=>{if(t){is(!0);try{const s=await ut(t);Gs(s)}catch{o({title:"Ошибка",description:"Не удалось загрузить операторов",variant:"destructive"})}finally{is(!1)}}},at=async()=>{if(!(!t||!ve||!Ne))try{await Ct(t,ve,Ne),o({title:"Успешно",description:"Оператор создан"}),ge(!1),Be(""),$e(""),Z()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось создать оператора",variant:"destructive"})}},rt=async(s,d)=>{if(t)try{await St(t,s,!d),o({title:"Успешно",description:`Оператор ${d?"деактивирован":"активирован"}`}),Z()}catch(f){o({title:"Ошибка",description:f instanceof Error?f.message:"Не удалось обновить статус",variant:"destructive"})}},lt=async()=>{if(!(!t||!ye.operatorId))try{await Tt(t,ye.operatorId),o({title:"Успешно",description:"Оператор удалён"}),we({open:!1,operatorId:null}),Z()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось удалить оператора",variant:"destructive"}),we({open:!1,operatorId:null})}},nt=async s=>{if(t)try{const d=await fetch(`/api/admin/operators/${s}/statistics?password=${encodeURIComponent(t)}`);if(!d.ok)throw new Error("Ошибка загрузки статистики");const f=await d.json();Ge({open:!0,operatorId:s,stats:f})}catch(d){o({title:"Ошибка",description:d instanceof Error?d.message:"Не удалось загрузить статистику",variant:"destructive"})}},it=async()=>{if(!t||!J.operator)return;const{login:s,password:d}=ne;if(!s&&!d){o({title:"Ошибка",description:"Укажите логин и/или пароль",variant:"destructive"});return}try{const f=await fetch(`/api/admin/operators/${J.operator.id}/credentials`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:t,login:s!==J.operator.login?s:void 0,newPassword:d||void 0})});if(!f.ok){const ee=await f.json();throw new Error(ee.error||"Ошибка обновления")}o({title:"Успешно",description:"Данные оператора обновлены"}),be({open:!1,operator:null}),ie({login:"",password:""}),Z()}catch(f){o({title:"Ошибка",description:f instanceof Error?f.message:"Не удалось обновить данные",variant:"destructive"})}},js=s=>{ds({open:!0,paymentId:s.id})},dt=async()=>{if(!(!t||!n.payment)){Se(!0);try{let s;if(I){const d=await new Promise((f,ee)=>{const D=new FileReader;D.onload=()=>{const ot=D.result.split(",")[1];f(ot)},D.onerror=ee,D.readAsDataURL(I)});s={type:I.type.includes("pdf")?"pdf":"image",value:d,name:I.name,mimeType:I.type}}await At(t,n.payment.id,_e,s,xs||void 0,us??void 0),o({title:"Успешно",description:`Заявка ${_e==="paid"?"оплачена":"отклонена"}`}),Ee({open:!1,payment:null,details:null}),os(null),ms(""),hs(null),ce(),P()}catch(s){o({title:"Ошибка",description:s instanceof Error?s.message:"Не удалось обработать заявку",variant:"destructive"})}finally{Se(!1)}}},ct=s=>{var f;const d=(f=s.target.files)==null?void 0:f[0];if(d){if(!["application/pdf","image/jpeg","image/jpg","image/png"].includes(d.type)){o({title:"Ошибка",description:"Поддерживаются только PDF, JPG и PNG файлы",variant:"destructive"});return}os(d)}},Te=(s,d,f)=>{const ee=s.startsWith("data:")?s:`data:${f};base64,${s}`,D=document.createElement("a");D.href=ee,D.download=d,document.body.appendChild(D),D.click(),document.body.removeChild(D)},Ae=s=>{switch(s){case"submitted":return"inline-flex items-center rounded-full bg-blue-500 px-3 py-1 text-xs font-semibold text-white";case"assigned":return"inline-flex items-center rounded-full bg-purple-500 px-3 py-1 text-xs font-semibold text-white";case"processing":return"inline-flex items-center rounded-full bg-yellow-500 px-3 py-1 text-xs font-semibold text-black";case"paid":return"inline-flex items-center rounded-full bg-green-500 px-3 py-1 text-xs font-semibold text-white";case"rejected":return"inline-flex items-center rounded-full bg-red-500 px-3 py-1 text-xs font-semibold text-white";case"cancelled":return"inline-flex items-center rounded-full bg-gray-400 px-3 py-1 text-xs font-semibold text-white";case"pending":return"inline-flex items-center rounded-full bg-yellow-500 px-3 py-1 text-xs font-semibold text-black";case"confirmed":return"inline-flex items-center rounded-full bg-green-500 px-3 py-1 text-xs font-semibold text-white";default:return"inline-flex items-center rounded-full bg-gray-400 px-3 py-1 text-xs font-semibold text-white"}},oe=s=>{switch(s){case"submitted":return"Подана";case"assigned":return"Назначена";case"processing":return"В обработке";case"paid":return"Оплачена";case"rejected":return"Отклонена";case"cancelled":return"Отменена";case"pending":return"Ожидает";case"confirmed":return"Подтверждён";default:return s}};return x?e.jsxs("div",{className:"min-h-screen bg-background p-4 pb-20",children:[e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Админ-панель"}),e.jsx(i,{variant:"outline",onClick:()=>m(!1),className:"rounded-[12px]",children:"Выйти"})]}),e.jsxs(Je,{defaultValue:"users",className:"w-full",children:[e.jsxs(Ke,{className:"grid w-full grid-cols-4 bg-card shadow-soft-sm rounded-[18px] p-1",children:[e.jsx(R,{value:"users",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"Пользователи"}),e.jsx(R,{value:"payments",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"Платежи"}),e.jsx(R,{value:"deposits",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"Депозиты"}),e.jsx(R,{value:"operators",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"Операторы"})]}),e.jsxs(O,{value:"users",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Пользователи"}),e.jsx(i,{onClick:P,variant:"outline",disabled:es,children:es?"Загрузка...":"Обновить"})]}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Telegram ID"}),e.jsx(l,{children:"Имя пользователя"}),e.jsx(l,{children:"Полное имя"}),e.jsx(l,{children:"Доступно"}),e.jsx(l,{children:"Заморожено"}),e.jsx(l,{children:"Регистрация"}),e.jsx(l,{children:"Действия"})]})}),e.jsx(_,{children:$.map(s=>e.jsxs(p,{children:[e.jsxs(r,{className:"font-mono text-xs",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{children:s.telegramId}),e.jsx(r,{children:s.username}),e.jsx(r,{className:"text-sm text-muted-foreground",children:s.fullName||"—"}),e.jsxs(r,{children:[s.availableBalance.toFixed(2)," USDT"]}),e.jsxs(r,{children:[s.frozenBalance.toFixed(2)," USDT"]}),e.jsx(r,{className:"text-sm",children:j(s.registeredAt)}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>cs({open:!0,userId:s.id}),children:"Просмотр статистики"}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{he({open:!0,user:s}),Me({available:s.availableBalance,frozen:s.frozenBalance})},children:"Изменить баланс"}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{je({open:!0,user:s}),Xe(0)},children:"Добавить депозит"})]})})]},s.id))})]})})]}),e.jsxs(O,{value:"payments",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Заявки на выплату"}),e.jsx(i,{onClick:ce,variant:"outline",disabled:ts,children:ts?"Загрузка...":"Обновить"})]}),e.jsxs(Je,{value:xe,onValueChange:s=>Ms(s),className:"w-full",children:[e.jsxs(Ke,{className:"grid w-full grid-cols-2 bg-card shadow-soft-sm rounded-[18px] p-1",children:[e.jsxs(R,{value:"active",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:["Активные (",xe==="active"?C.length:0,")"]}),e.jsx(R,{value:"history",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"История"})]}),e.jsxs(O,{value:"active",className:"mt-4",children:[e.jsx("div",{className:"flex items-center justify-end mb-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(h,{htmlFor:"urgency-filter",className:"text-sm font-semibold",children:"Срочность:"}),e.jsxs(Ue,{value:me,onValueChange:qs,children:[e.jsx(ke,{id:"urgency-filter",className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Срочность"})}),e.jsxs(Ie,{children:[e.jsx(g,{value:"all",children:"Все"}),e.jsx(g,{value:"urgent",children:"Срочные"}),e.jsx(g,{value:"standard",children:"Обычные"})]})]})]})}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Пользователь"}),e.jsx(l,{children:"Сумма (₽)"}),e.jsx(l,{children:"USDT"}),e.jsx(l,{children:"Курс"}),e.jsx(l,{children:"Срочность"}),e.jsx(l,{children:"Статус"}),e.jsx(l,{children:"Оператор"}),e.jsx(l,{children:"Взято"}),e.jsx(l,{children:"Создана"}),e.jsx(l,{children:"Действия"})]})}),e.jsx(_,{children:C.length===0?e.jsx(p,{children:e.jsx(r,{colSpan:11,className:"text-center text-muted-foreground py-8",children:"Нет активных заявок"})}):C.map(s=>e.jsxs(p,{children:[e.jsxs(r,{className:"font-mono text-xs",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{children:s.username}),e.jsxs(r,{children:[s.amountRub.toLocaleString("ru-RU")," ₽"]}),e.jsxs(r,{children:[s.amountUsdt.toFixed(2)," USDT"]}),e.jsx(r,{children:s.frozenRate.toFixed(2)}),e.jsx(r,{children:s.urgency==="urgent"?e.jsx("span",{className:"text-red-600 font-semibold",children:"Срочно"}):e.jsx("span",{className:"text-gray-600",children:"Обычно"})}),e.jsx(r,{children:e.jsx("span",{className:Ae(s.status),children:oe(s.status)})}),e.jsx(r,{className:"text-sm",children:s.assignedOperatorLogin||e.jsx("span",{className:"text-muted-foreground",children:"Не назначен"})}),e.jsx(r,{className:"text-sm",children:s.assignedAt?j(s.assignedAt):e.jsx("span",{className:"text-muted-foreground",children:"—"})}),e.jsx(r,{className:"text-sm",children:j(s.createdAt)}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>js(s),children:"Детали"}),e.jsx(i,{size:"sm",variant:"destructive",onClick:()=>Zs(s.id),children:"Отменить"})]})})]},s.id))})]})})]}),e.jsxs(O,{value:"history",className:"mt-4",children:[e.jsx("div",{className:"flex items-center justify-end mb-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(h,{htmlFor:"payment-status-filter",className:"text-sm font-semibold",children:"Статус:"}),e.jsxs(Ue,{value:ue,onValueChange:Xs,children:[e.jsx(ke,{id:"payment-status-filter",className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Статус"})}),e.jsxs(Ie,{children:[e.jsx(g,{value:"all",children:"Все"}),e.jsx(g,{value:"paid",children:"Оплачено"}),e.jsx(g,{value:"rejected",children:"Отклонено"}),e.jsx(g,{value:"cancelled",children:"Отменено"})]})]})]})}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Пользователь"}),e.jsx(l,{children:"Сумма (₽)"}),e.jsx(l,{children:"USDT"}),e.jsx(l,{children:"Курс"}),e.jsx(l,{children:"Срочность"}),e.jsx(l,{children:"Статус"}),e.jsx(l,{children:"Оператор"}),e.jsx(l,{children:"Создана"}),e.jsx(l,{children:"Завершена"}),e.jsx(l,{children:"Действия"})]})}),e.jsx(_,{children:C.length===0?e.jsx(p,{children:e.jsx(r,{colSpan:11,className:"text-center text-muted-foreground py-8",children:"Нет заявок"})}):C.map(s=>e.jsxs(p,{children:[e.jsxs(r,{className:"font-mono text-xs",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{children:s.username}),e.jsxs(r,{children:[s.amountRub.toLocaleString("ru-RU")," ₽"]}),e.jsxs(r,{children:[s.amountUsdt.toFixed(2)," USDT"]}),e.jsx(r,{children:s.frozenRate.toFixed(2)}),e.jsx(r,{children:s.urgency==="urgent"?e.jsx("span",{className:"text-red-600 font-semibold",children:"Срочно"}):e.jsx("span",{className:"text-gray-600",children:"Обычно"})}),e.jsx(r,{children:e.jsx("span",{className:Ae(s.status),children:oe(s.status)})}),e.jsx(r,{className:"text-sm",children:s.assignedOperatorLogin||e.jsx("span",{className:"text-muted-foreground",children:"Не назначен"})}),e.jsx(r,{className:"text-sm",children:j(s.createdAt)}),e.jsx(r,{className:"text-sm",children:s.completedAt?j(s.completedAt):e.jsx("span",{className:"text-muted-foreground",children:"—"})}),e.jsx(r,{children:e.jsx(i,{size:"sm",variant:"outline",onClick:()=>js(s),children:"Детали"})})]},s.id))})]})})]})]})]}),e.jsxs(O,{value:"deposits",className:"space-y-4 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Депозиты"}),e.jsx(i,{onClick:Y,variant:"outline",disabled:rs,children:rs?"Загрузка...":"Обновить"})]}),e.jsxs(Je,{value:Oe,onValueChange:s=>Vs(s),className:"w-full",children:[e.jsxs(Ke,{className:"grid w-full grid-cols-2 bg-card shadow-soft-sm rounded-[18px] p-1",children:[e.jsxs(R,{value:"pending",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:["Активные (",c.filter(s=>s.status==="pending").length,")"]}),e.jsx(R,{value:"history",className:"rounded-[14px] data-[state=active]:bg-accent data-[state=active]:text-accent-foreground data-[state=active]:shadow-soft-sm font-semibold transition-soft",children:"История"})]}),e.jsx(O,{value:"pending",className:"mt-4",children:e.jsx("div",{className:"border rounded-lg",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Пользователь"}),e.jsx(l,{children:"Сумма для оплаты"}),e.jsx(l,{children:"TX Hash"}),e.jsx(l,{children:"Создан"}),e.jsx(l,{children:"Статус"}),e.jsx(l,{children:"Действия"})]})}),e.jsx(_,{children:c.length===0?e.jsx(p,{children:e.jsx(r,{colSpan:7,className:"text-center text-muted-foreground py-8",children:"Нет ожидающих депозитов"})}):c.map(s=>e.jsxs(p,{children:[e.jsxs(r,{className:"font-mono text-xs",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{children:s.username}),e.jsxs(r,{className:"font-semibold font-mono",children:[Ps(s.payableAmount)," USDT"]}),e.jsx(r,{className:"font-mono text-xs",children:s.txHash?e.jsxs("span",{title:s.txHash,children:[s.txHash.slice(0,10),"..."]}):e.jsx("span",{className:"text-muted-foreground",children:"—"})}),e.jsx(r,{className:"text-sm",children:j(s.createdAt)}),e.jsx(r,{children:e.jsx("span",{className:Ae(s.status),children:oe(s.status)})}),e.jsx(r,{children:s.status==="pending"?e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>pe({open:!0,depositId:s.id}),children:"Подробнее"}),e.jsx(i,{size:"sm",variant:"default",onClick:()=>et(s.id),children:"Подтвердить"}),e.jsx(i,{size:"sm",variant:"destructive",onClick:()=>st(s.id),children:"Отклонить"})]}):e.jsx(i,{size:"sm",variant:"outline",onClick:()=>pe({open:!0,depositId:s.id}),children:"Подробнее"})})]},s.id))})]})})}),e.jsxs(O,{value:"history",className:"mt-4",children:[e.jsx("div",{className:"flex items-center justify-end mb-4",children:e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(h,{htmlFor:"deposit-status-filter",className:"text-sm font-semibold",children:"Статус:"}),e.jsxs(Ue,{value:ze,onValueChange:Ws,children:[e.jsx(ke,{id:"deposit-status-filter",className:"w-[180px]",children:e.jsx(Fe,{placeholder:"Статус"})}),e.jsxs(Ie,{children:[e.jsx(g,{value:"all",children:"Все"}),e.jsx(g,{value:"confirmed",children:"Подтверждено"}),e.jsx(g,{value:"rejected",children:"Отклонено"}),e.jsx(g,{value:"expired",children:"Истекло"}),e.jsx(g,{value:"cancelled",children:"Отменено"})]})]})]})}),e.jsx("div",{className:"border rounded-lg",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{children:[e.jsx(l,{children:"ID"}),e.jsx(l,{children:"Пользователь"}),e.jsx(l,{children:"Сумма для оплаты"}),e.jsx(l,{children:"TX Hash"}),e.jsx(l,{children:"Создан"}),e.jsx(l,{children:"Подтверждён"}),e.jsx(l,{children:"Статус"}),e.jsx(l,{children:"Действия"})]})}),e.jsx(_,{children:c.length===0?e.jsx(p,{children:e.jsx(r,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"Нет депозитов"})}):c.map(s=>e.jsxs(p,{children:[e.jsxs(r,{className:"font-mono text-xs",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{children:s.username}),e.jsxs(r,{className:"font-semibold font-mono",children:[Ps(s.payableAmount)," USDT"]}),e.jsx(r,{className:"font-mono text-xs",children:s.txHash?e.jsxs("span",{title:s.txHash,children:[s.txHash.slice(0,10),"..."]}):e.jsx("span",{className:"text-muted-foreground",children:"—"})}),e.jsx(r,{className:"text-sm",children:j(s.createdAt)}),e.jsx(r,{className:"text-sm",children:s.confirmedAt?j(s.confirmedAt):e.jsx("span",{className:"text-muted-foreground",children:"—"})}),e.jsx(r,{children:e.jsx("span",{className:Ae(s.status),children:oe(s.status)})}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>pe({open:!0,depositId:s.id}),children:"Подробнее"}),(s.status==="expired"||s.status==="cancelled")&&e.jsx(i,{size:"sm",variant:"default",onClick:()=>{fe({open:!0,deposit:s}),De(s.amount)},children:"Подтвердить вручную"})]})})]},s.id))})]})})]})]})]}),e.jsxs(O,{value:"operators",className:"space-y-4 mt-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Операторы"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{onClick:Z,variant:"outline",disabled:ns,className:"rounded-[12px]",children:ns?"Загрузка...":"Обновить"}),e.jsxs(i,{onClick:()=>ge(!0),className:"rounded-[12px] bg-accent text-accent-foreground hover:bg-accent/90 shadow-soft-sm flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),"Создать оператора"]})]})]}),e.jsx("div",{className:"border rounded-[18px] overflow-hidden shadow-soft bg-card",children:e.jsxs(X,{children:[e.jsx(W,{children:e.jsxs(p,{className:"border-border",children:[e.jsx(l,{className:"font-semibold text-foreground",children:"ID"}),e.jsx(l,{className:"font-semibold text-foreground",children:"Логин"}),e.jsx(l,{className:"font-semibold text-foreground",children:"Статус"}),e.jsx(l,{className:"font-semibold text-foreground",children:"Создан"}),e.jsx(l,{className:"font-semibold text-foreground",children:"Действия"})]})}),e.jsx(_,{children:Ze.length===0?e.jsx(p,{children:e.jsxs(r,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[e.jsx(Mt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Операторов пока нет"})]})}):Ze.map(s=>e.jsxs(p,{className:"border-border",children:[e.jsxs(r,{className:"font-mono text-xs text-muted-foreground",children:[s.id.slice(0,8),"..."]}),e.jsx(r,{className:"font-semibold text-foreground",children:s.login}),e.jsx(r,{children:e.jsxs("span",{className:`inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs font-semibold ${s.isActive?"bg-[hsl(var(--success-bg))] text-[hsl(var(--success))]":"bg-muted text-muted-foreground"}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full ${s.isActive?"bg-[hsl(var(--success))]":"bg-muted-foreground"}`}),s.isActive?"Активен":"Неактивен"]})}),e.jsx(r,{className:"text-sm text-muted-foreground",children:j(s.createdAt)}),e.jsx(r,{children:e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(i,{size:"sm",variant:"outline",onClick:()=>nt(s.id),className:"rounded-[10px]",children:"Статистика"}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{be({open:!0,operator:s}),ie({login:s.login,password:""})},className:"rounded-[10px]",children:"Редактировать"}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>rt(s.id,s.isActive),className:"rounded-[10px]",children:s.isActive?"Деактивировать":"Активировать"}),e.jsx(i,{size:"sm",variant:"destructive",onClick:()=>we({open:!0,operatorId:s.id}),className:"rounded-[10px]",children:"Удалить"})]})})]},s.id))})]})})]})]})]}),e.jsx(S,{open:ae.open,onOpenChange:s=>he({open:s,user:ae.user}),children:e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(U,{children:"Изменить баланс"}),e.jsxs(M,{children:["Пользователь: ",(ps=ae.user)==null?void 0:ps.username]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"available",children:"Доступный баланс (USDT)"}),e.jsx(v,{id:"available",type:"number",step:"0.01",value:K.available,onChange:s=>Me({...K,available:parseFloat(s.target.value)||0})})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"frozen",children:"Замороженный баланс (USDT)"}),e.jsx(v,{id:"frozen",type:"number",step:"0.01",value:K.frozen,onChange:s=>Me({...K,frozen:parseFloat(s.target.value)||0})})]})]}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>he({open:!1,user:null}),children:"Отмена"}),e.jsx(i,{onClick:Qs,children:"Сохранить"})]})]})}),e.jsx(S,{open:re.open,onOpenChange:s=>je({open:s,user:re.user}),children:e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(U,{children:"Добавить депозит"}),e.jsxs(M,{children:["Пользователь: ",(fs=re.user)==null?void 0:fs.username]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx(h,{htmlFor:"deposit-amount",children:"Сумма (USDT)"}),e.jsx(v,{id:"deposit-amount",type:"number",step:"0.01",value:qe,onChange:s=>Xe(parseFloat(s.target.value)||0),placeholder:"Введите сумму"})]})}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>je({open:!1,user:null}),children:"Отмена"}),e.jsx(i,{onClick:Ys,children:"Добавить"})]})]})}),e.jsx(S,{open:n.open,onOpenChange:s=>Ee({open:s,payment:n.payment,details:n.details}),children:e.jsxs(T,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(A,{children:[e.jsxs(U,{children:["Обработка заявки №",(gs=n.payment)==null?void 0:gs.id.slice(-6)]}),e.jsxs(M,{children:["Пользователь: ",(vs=n.payment)==null?void 0:vs.username]})]}),n.details&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Сумма (₽)"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(Ns=n.payment)==null?void 0:Ns.amountRub.toLocaleString("ru-RU")," ₽"]})]}),e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"USDT"}),e.jsxs("p",{className:"text-2xl font-bold",children:[(bs=n.payment)==null?void 0:bs.amountUsdt.toFixed(2)," USDT"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Курс"}),e.jsxs("p",{className:"font-medium",children:[(ys=n.payment)==null?void 0:ys.frozenRate.toFixed(2)," ₽"]})]}),e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Срочность"}),e.jsx("p",{className:"font-medium",children:((ws=n.payment)==null?void 0:ws.urgency)==="urgent"?"Срочно":"Стандартно"})]})]}),e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Статус"}),e.jsx("p",{className:"font-medium capitalize",children:oe(((Ds=n.payment)==null?void 0:Ds.status)||"")})]}),n.details.comment&&e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Комментарий"}),e.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md",children:n.details.comment})]}),n.details.attachments&&n.details.attachments.length>0&&e.jsxs("div",{children:[e.jsxs(h,{className:"text-muted-foreground",children:["Вложения (",n.details.attachments.length,")"]}),e.jsx("div",{className:"mt-2 space-y-2",children:n.details.attachments.map((s,d)=>s.type==="image"&&s.value?e.jsxs("div",{className:"p-2 bg-muted rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Изображение: ",s.name||"image.jpg"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Te(s.value,s.name||"image.jpg","image/jpeg"),className:"border-2 border-black",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Скачать"]})]}),e.jsx("img",{src:s.value.startsWith("data:")?s.value:`data:image/jpeg;base64,${s.value}`,alt:s.name||"Вложение",className:"max-w-full h-auto rounded border-2 border-black",style:{maxHeight:"400px"}})]},d):s.type==="pdf"&&s.value?e.jsxs("div",{className:"p-2 bg-muted rounded-md",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-medium",children:["PDF: ",s.name||"document.pdf"]}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Te(s.value,s.name||"document.pdf","application/pdf"),className:"border-2 border-black",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Скачать"]})]}),e.jsx("iframe",{src:s.value.startsWith("data:")?s.value:`data:application/pdf;base64,${s.value}`,className:"w-full border-2 border-black rounded",style:{maxHeight:"500px"},title:s.name||"PDF"})]},d):s.type==="link"?e.jsxs("div",{className:"p-2 bg-muted rounded-md text-sm",children:[e.jsx("span",{className:"font-medium",children:"Ссылка:"})," ",e.jsx("a",{href:s.value,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:s.name||s.value})]},d):e.jsxs("div",{className:"p-2 bg-muted rounded-md text-sm",children:[e.jsxs("span",{className:"font-medium",children:[s.type.toUpperCase(),":"]})," ",s.name||s.value]},d))})]}),n.details.receipt&&e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Чек оператора"}),e.jsx("div",{className:"mt-2 p-2 bg-muted rounded-md",children:n.details.receipt.type==="image"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-sm font-medium",children:n.details.receipt.name||"receipt.jpg"}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Te(n.details.receipt.value,n.details.receipt.name||"receipt.jpg",n.details.receipt.mimeType||"image/jpeg"),className:"border-2 border-black",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Скачать"]})]}),e.jsx("img",{src:`data:${n.details.receipt.mimeType||"image/jpeg"};base64,${n.details.receipt.value}`,alt:"Чек",className:"max-w-full h-auto rounded border-2 border-black",style:{maxHeight:"400px"}})]}):n.details.receipt.type==="pdf"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"text-sm font-medium",children:n.details.receipt.name||"receipt.pdf"}),e.jsxs(i,{variant:"outline",size:"sm",onClick:()=>Te(n.details.receipt.value,n.details.receipt.name||"receipt.pdf",n.details.receipt.mimeType||"application/pdf"),className:"border-2 border-black",children:[e.jsx(Pe,{className:"h-4 w-4 mr-1"}),"Скачать"]})]}),e.jsx("iframe",{src:`data:${n.details.receipt.mimeType||"application/pdf"};base64,${n.details.receipt.value}`,className:"w-full border-2 border-black rounded",style:{maxHeight:"500px"},title:"Чек (PDF)"})]}):null})]}),n.details.adminComment&&e.jsxs("div",{children:[e.jsx(h,{className:"text-muted-foreground",children:"Комментарий оператора"}),e.jsx("p",{className:"mt-1 p-3 bg-yellow-100 border-2 border-black rounded-md font-medium",children:n.details.adminComment})]}),(((Cs=n.payment)==null?void 0:Cs.status)==="submitted"||((Ss=n.payment)==null?void 0:Ss.status)==="processing")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border-t pt-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"edit-amount",children:"Изменить сумму (₽) - необязательно"}),e.jsx(v,{id:"edit-amount",type:"number",placeholder:(Ts=n.payment)==null?void 0:Ts.amountRub.toFixed(2),value:us??"",onChange:s=>hs(s.target.value?parseFloat(s.target.value):null),className:"mt-1"}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Оригинальная сумма: ",(As=n.payment)==null?void 0:As.amountRub.toLocaleString("ru-RU")," ₽"]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"process-status",children:"Статус"}),e.jsxs(Ue,{value:_e,onValueChange:s=>Js(s),children:[e.jsx(ke,{id:"process-status",children:e.jsx(Fe,{})}),e.jsxs(Ie,{children:[e.jsx(g,{value:"paid",children:"Оплачено"}),e.jsx(g,{value:"rejected",children:"Отклонено"})]})]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"admin-comment",children:"Комментарий оператора (необязательно)"}),e.jsx(v,{id:"admin-comment",type:"text",placeholder:"Например: причина отказа или примечание",value:xs,onChange:s=>ms(s.target.value),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"receipt-upload",children:"Чек / Квитанция (необязательно)"}),e.jsx(v,{id:"receipt-upload",type:"file",accept:".pdf,.jpg,.jpeg,.png",onChange:ct,className:"mt-1"}),I&&e.jsxs("p",{className:"mt-2 text-sm text-muted-foreground",children:["Выбран файл: ",I.name," (",(I.size/1024).toFixed(1)," KB)"]})]})]}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>Ee({open:!1,payment:null,details:null}),children:"Отмена"}),e.jsx(i,{onClick:dt,disabled:Ce,children:Ce?"Обработка...":"Подтвердить"})]})]})]})]})}),e.jsx(S,{open:_s,onOpenChange:ge,children:e.jsxs(T,{className:"bg-card rounded-[18px]",children:[e.jsxs(A,{children:[e.jsx(U,{className:"text-2xl font-bold text-foreground",children:"Создать оператора"}),e.jsx(M,{className:"text-muted-foreground",children:"Введите данные нового оператора"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"operator-login",className:"text-foreground font-semibold",children:"Логин"}),e.jsx(v,{id:"operator-login",type:"text",value:ve,onChange:s=>Be(s.target.value),placeholder:"Введите логин",className:"mt-2 rounded-[12px]"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"operator-password",className:"text-foreground font-semibold",children:"Пароль"}),e.jsx(v,{id:"operator-password",type:"password",value:Ne,onChange:s=>$e(s.target.value),placeholder:"Введите пароль",className:"mt-2 rounded-[12px]"})]})]}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>{ge(!1),Be(""),$e("")},className:"rounded-[12px]",children:"Отмена"}),e.jsx(i,{onClick:at,disabled:!ve||!Ne,className:"rounded-[12px] bg-accent text-accent-foreground hover:bg-accent/90 shadow-soft-sm",children:"Создать"})]})]})}),e.jsx(S,{open:J.open,onOpenChange:s=>be({open:s,operator:J.operator}),children:e.jsxs(T,{className:"bg-card rounded-[18px]",children:[e.jsxs(A,{children:[e.jsx(U,{className:"text-2xl font-bold text-foreground",children:"Редактировать оператора"}),e.jsxs(M,{className:"text-muted-foreground",children:["Оператор: ",(Us=J.operator)==null?void 0:Us.login]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"edit-operator-login",className:"text-foreground font-semibold",children:"Новый логин"}),e.jsx(v,{id:"edit-operator-login",type:"text",value:ne.login,onChange:s=>ie({...ne,login:s.target.value}),placeholder:"Введите новый логин",className:"mt-2 rounded-[12px]"})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"edit-operator-password",className:"text-foreground font-semibold",children:"Новый пароль"}),e.jsx(v,{id:"edit-operator-password",type:"password",value:ne.password,onChange:s=>ie({...ne,password:s.target.value}),placeholder:"Введите новый пароль (оставьте пустым для сохранения старого)",className:"mt-2 rounded-[12px]"})]})]}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>{be({open:!1,operator:null}),ie({login:"",password:""})},className:"rounded-[12px]",children:"Отмена"}),e.jsx(i,{onClick:it,className:"rounded-[12px] bg-accent text-accent-foreground hover:bg-accent/90 shadow-soft-sm",children:"Сохранить"})]})]})}),e.jsx(S,{open:b.open,onOpenChange:s=>Ge({open:s,operatorId:b.operatorId,stats:b.stats}),children:e.jsxs(T,{className:"bg-card rounded-[18px] max-w-2xl",children:[e.jsxs(A,{children:[e.jsx(U,{className:"text-2xl font-bold text-foreground",children:"Статистика оператора"}),e.jsxs(M,{className:"text-muted-foreground",children:["ID: ",(ks=b.operatorId)==null?void 0:ks.slice(0,8),"..."]})]}),b.stats&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-[12px] p-4 bg-muted/20",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Всего платежей"}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:b.stats.totalCount})]}),e.jsxs("div",{className:"border rounded-[12px] p-4 bg-[hsl(var(--success-bg))]",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Успешных"}),e.jsx("div",{className:"text-2xl font-bold text-[hsl(var(--success))]",children:b.stats.paidCount})]}),e.jsxs("div",{className:"border rounded-[12px] p-4 bg-destructive/10",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Отклонено"}),e.jsx("div",{className:"text-2xl font-bold text-destructive",children:b.stats.rejectedCount})]}),e.jsxs("div",{className:"border rounded-[12px] p-4 bg-muted/20",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Сумма (RUB)"}),e.jsx("div",{className:"text-2xl font-bold text-foreground",children:Number(b.stats.totalAmountRub).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})})]})]}),e.jsxs("div",{className:"border rounded-[12px] p-4 bg-accent/10",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Общая сумма (USDT)"}),e.jsx("div",{className:"text-2xl font-bold text-accent",children:Number(b.stats.totalAmountUsdt).toFixed(2)})]}),e.jsxs("div",{className:"border rounded-[12px] p-4 bg-muted/20",children:[e.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Средний курс конвертации"}),e.jsx("div",{className:"text-xl font-bold text-foreground",children:b.stats.averageConversionRate?`${Number(b.stats.averageConversionRate).toFixed(2)} RUB/USDT`:"Нет данных"})]})]}),e.jsx(q,{children:e.jsx(i,{variant:"outline",onClick:()=>Ge({open:!1,operatorId:null,stats:null}),className:"rounded-[12px]",children:"Закрыть"})})]})}),e.jsx(S,{open:le.open,onOpenChange:s=>fe({open:s,deposit:le.deposit}),children:e.jsxs(T,{children:[e.jsxs(A,{children:[e.jsx(U,{children:"Подтверждение депозита вручную"}),e.jsx(M,{children:"Введите фактическую сумму USDT и TX Hash транзакции"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"manual-amount",children:"Фактическая сумма USDT"}),e.jsx(v,{id:"manual-amount",type:"number",step:"0.01",value:Q,onChange:s=>De(parseFloat(s.target.value)||0),placeholder:"Введите сумму",className:"mt-1"}),e.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:["Запрошенная сумма: ",(Fs=le.deposit)==null?void 0:Fs.amount.toFixed(2)," USDT"]})]}),e.jsxs("div",{children:[e.jsx(h,{htmlFor:"manual-txhash",children:"TX Hash транзакции"}),e.jsx(v,{id:"manual-txhash",type:"text",value:de,onChange:s=>We(s.target.value),placeholder:"Введите TX Hash",className:"mt-1"})]})]}),e.jsxs(q,{children:[e.jsx(i,{variant:"outline",onClick:()=>{fe({open:!1,deposit:null}),De(0),We("")},children:"Отмена"}),e.jsx(i,{onClick:tt,disabled:Ce||!Q||!de,children:Ce?"Подтверждение...":"Подтвердить"})]})]})}),e.jsx(Et,{open:He.open,onOpenChange:s=>ds({open:s,paymentId:He.paymentId}),paymentId:He.paymentId||"",isAdmin:!0,adminPassword:t}),e.jsx(Kt,{open:Le.open,onOpenChange:s=>pe({open:s,depositId:Le.depositId}),depositId:Le.depositId||"",adminPassword:t}),e.jsx(sa,{open:Ve.open,onOpenChange:s=>cs({open:s,userId:Ve.userId}),userId:Ve.userId||"",adminPassword:t}),e.jsx(Ut,{open:ye.open,onOpenChange:s=>we({open:s,operatorId:ye.operatorId}),children:e.jsxs(kt,{className:"bg-card rounded-[18px]",children:[e.jsxs(Ft,{children:[e.jsx(It,{className:"text-2xl font-bold text-foreground",children:"Удаление оператора"}),e.jsx(Pt,{className:"text-base text-muted-foreground pt-2",children:"Уверен, что хочешь удалить? Раб останется без хозяина 😢"})]}),e.jsxs(Rt,{children:[e.jsx(Ot,{className:"rounded-[12px]",children:"Отмена"}),e.jsx(zt,{onClick:lt,className:"rounded-[12px] bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-soft-sm",children:"Удалить"})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-card rounded-[18px] shadow-soft-lg p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:"Админ-панель"}),e.jsx("p",{className:"text-muted-foreground",children:"Введите пароль для входа"})]}),e.jsxs("form",{onSubmit:Ks,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"password",className:"text-foreground font-semibold",children:"Пароль"}),e.jsx(v,{id:"password",type:"password",value:u,onChange:s=>B(s.target.value),placeholder:"Введите пароль",required:!0,className:"mt-2 rounded-[12px] border-border"})]}),e.jsx(i,{type:"submit",className:"w-full rounded-[12px] bg-accent text-accent-foreground hover:bg-accent/90 shadow-soft-sm font-semibold py-6",disabled:w,children:w?"Вход...":"Войти"})]})]})})})}export{va as default};
