import{j as e,r as b}from"./react-vendor-DXh2JWUH.js";import{C as f,B as g}from"./card-l8B5EJfV.js";import{d as h,e as N}from"./index-XvOZlhht.js";import{U as y,G as w}from"./icons-vendor-BKMeapAd.js";import"./ui-extended-CLSNRB24.js";import"./ui-core-DuOrk3UI.js";import"./utils-vendor-B2rm_Apj.js";import"./react-query-DV86JtqI.js";function v(t){const[r,a]=b.useState({days:0,hours:0,minutes:0,seconds:0});return b.useEffect(()=>{if(!t)return;const l=()=>{const n=new Date().getTime(),s=new Date(t).getTime()-n;if(s<=0){a({days:0,hours:0,minutes:0,seconds:0});return}const o=Math.floor(s/(1e3*60*60*24)),i=Math.floor(s%(1e3*60*60*24)/(1e3*60*60)),c=Math.floor(s%(1e3*60*60)/(1e3*60)),d=Math.floor(s%(1e3*60)/1e3);a({days:o,hours:i,minutes:c,seconds:d})};l();const x=setInterval(l,1e3);return()=>clearInterval(x)},[t]),r}function M({availableUsdt:t,frozenUsdt:r,exchangeRate:a,onTopUp:l,onPay:x,hasDraft:n,username:p="ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ",fullName:s,avatarUrl:o,signupBonusActive:i=0,signupBonusAmount:c=0,signupBonusExpiresAt:d=null}){const j=t*a,u=s||p,m=v(d);return e.jsx("div",{className:"flex flex-col min-h-[90vh] px-4 sm:px-5 pt-4 sm:pt-5 pb-24 bg-background",children:e.jsxs("div",{className:"max-w-md w-full mx-auto lg:max-w-[430px] space-y-4 sm:space-y-5 flex-1 flex flex-col pb-safe",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-secondary border-2 border-accent flex items-center justify-center flex-shrink-0 overflow-hidden shadow-soft-sm",children:o?e.jsx("img",{src:o,alt:u,className:"w-full h-full object-cover"}):e.jsx(y,{className:"w-7 h-7 sm:w-8 sm:h-8 text-primary"})}),e.jsx("div",{className:"flex flex-col",children:e.jsx("p",{className:"text-lg sm:text-xl font-semibold text-foreground leading-tight",children:u})})]}),e.jsx("div",{className:"px-4 sm:px-5 py-2 bg-secondary border border-accent rounded-full shadow-soft-sm flex-shrink-0",children:e.jsx("p",{className:"text-sm sm:text-base font-semibold text-primary",children:"Ð‘Ð•Ð¢Ð"})})]}),i===1&&d&&e.jsx(f,{className:"p-5 sm:p-6 bg-gradient-to-r from-yellow-50 to-orange-50 border-2 border-orange-200 shadow-soft rounded-[20px] flex-shrink-0",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-soft-sm",children:e.jsx(w,{className:"w-6 h-6 text-orange-500"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-foreground mb-1",children:"ÐŸÑ€Ð¸Ð²ÐµÑ‚ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¹ Ð±Ð¾Ð½ÑƒÑ"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold text-orange-600 mb-2",children:["+",h(c)," USDT"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[e.jsx("span",{children:"â±"}),e.jsxs("span",{children:["ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ: ",m.days>0&&`${m.days} Ð´Ð½ `,m.hours," Ñ‡ ",m.minutes," Ð¼Ð¸Ð½"]})]})]})]})}),e.jsxs(f,{className:"p-6 sm:p-8 bg-[#DFF9EB] shadow-soft rounded-[24px] flex-shrink-0","data-testid":"card-usdt-balance",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-center mb-2 text-primary",children:"USDT"}),e.jsx("p",{className:"text-5xl sm:text-6xl font-bold text-center tabular-nums text-primary","data-testid":"text-usdt-amount",children:h(t)})]}),r>0&&e.jsxs("div",{className:"p-3 sm:p-4 bg-[#FFF3E0] border border-[#F4A261] rounded-[20px] shadow-soft-sm flex items-center justify-center gap-2 flex-shrink-0",children:[e.jsx("span",{className:"text-lg",children:"ðŸ”’"}),e.jsxs("p",{className:"text-sm sm:text-base font-medium text-[#F4A261]",children:["Ð—Ð°Ð¼Ð¾Ñ€Ð¾Ð¶ÐµÐ½Ð¾: ",h(r)," USDT"]})]}),e.jsx("div",{className:"p-5 sm:p-6 bg-primary shadow-soft rounded-[20px] flex-shrink-0","data-testid":"card-exchange-rate",children:e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx("span",{className:"text-2xl sm:text-3xl font-semibold text-primary-foreground",children:"1 USDT"}),e.jsx("span",{className:"text-3xl sm:text-4xl font-semibold text-primary-foreground",children:"="}),e.jsxs("span",{className:"text-2xl sm:text-3xl font-semibold text-primary-foreground",children:[a.toFixed(2)," â‚½"]})]})}),e.jsxs(f,{className:"flex-1 flex flex-col justify-center py-6 sm:py-8 min-h-[120px] bg-card shadow-soft rounded-[20px]",children:[e.jsx("p",{className:"text-base sm:text-lg font-semibold text-center mb-2 text-primary",children:"Ð­ÐºÐ²Ð¸Ð²Ð°Ð»ÐµÐ½Ñ‚ Ð² â‚½"}),e.jsx("p",{className:"text-5xl sm:text-6xl font-bold text-center tabular-nums text-primary","data-testid":"text-rub-amount",children:N(j)})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 flex-shrink-0",children:[e.jsx(g,{variant:"outline",size:"lg",className:"h-14 sm:h-16 text-lg sm:text-xl font-medium",onClick:l,"data-testid":"button-top-up",children:"ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ"}),e.jsxs(g,{variant:"default",size:"lg",className:"relative h-14 sm:h-16 text-lg sm:text-xl font-medium overflow-visible",onClick:x,"data-testid":"button-pay",children:[n?"ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ":"ÐžÐ¿Ð»Ð°Ñ‚Ð¸Ñ‚ÑŒ",n&&e.jsx("span",{className:"absolute -top-1.5 -right-1.5 w-4 h-4 bg-destructive rounded-full shadow-soft-sm border-2 border-background"})]})]})]})})}export{M as default};
